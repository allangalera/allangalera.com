---
import { Icon } from "astro-icon";
import {
  calculateJobStartandEndDate,
  period,
  showDate,
} from "~/modules/resume/utils";
import type { Experience } from "~/modules/resume/types";

export type Props = Experience;

const props = Astro.props;

const { startDate, endDate } = calculateJobStartandEndDate(props.jobTitles);
---

<div class="bg-base-300 py-2 px-3">
  <h3
    class="flex gap-3 items-center text-xl md:text-3xl leading-tight md:leading-relaxed"
  >
    {props.company}
    {
      props.linkedin && (
        <a class="print:text-black" target="_blank" href={props.linkedin}>
          <Icon name="brandico:linkedin-rect" class="w-4 md:w-5" />
        </a>
      )
    }
  </h3>
  <p class="text-sm">
    {showDate(endDate)}
  </p>
  <p class="text-sm">
    {showDate(startDate)}
  </p>
  <p class="text-sm">
    {period({ start: startDate, end: endDate })}
  </p>
  <p class="text-xs">{props.location}</p>
</div>
